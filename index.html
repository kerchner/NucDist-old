<html>
<head>
<script src="https://cdn.plot.ly/plotly-2.8.3.min.js"></script>
<script>
function compute() {
  var dna=document.getElementById("dna").value;
  let lettercounts = new Map();
  let letter = '';
  for (let i = 0; i < dna.length; i++) {
    letter = dna[i];
 
    if (lettercounts.has(letter)) {
      lettercounts.set(letter, lettercounts.get(letter)+1);
    } else {
      lettercounts.set(letter, 1);
    }
  }

  let keys = Array.from( lettercounts.keys() );
  let vals = Array.from( lettercounts.values() );
  for (let i = 0; i < vals.length; i++) {
    vals[i] = vals[i]/dna.length;
  }  
  var data = [{
    labels: keys,
    values: vals,
    type: 'pie'
    // x: keys,
    // y: vals,
    // type: 'bar'
  }];

  var layout = {
    title: 'Nucleotide Frequency',
//    height: 400,
//    width: 500
/*
   font:{
      family: 'Raleway, sans-serif'
    },
    showlegend: false,
    xaxis: {
//      tickangle: -45
    },
    yaxis: {
      zeroline: false,
      gridwidth: 2
    },
 */
 //   bargap :0.05
  };

  Plotly.newPlot('myDiv', data, layout);
}
</script>
</head>
<body>
<div>
<p>
Enter your DNA sequence: <input id="dna" type=text>
<input type="button" value="Compute" onclick="compute()">
</p>
</div>
<div id='myDiv'><!-- Plotly chart will be drawn inside this DIV -->
</div>
</body>
</html>
